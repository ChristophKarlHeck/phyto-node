\hypertarget{main_8cpp}{}\doxysection{src/main.cpp File Reference}
\label{main_8cpp}\index{src/main.cpp@{src/main.cpp}}


Entry point for the Phyto\+Node application.  


{\ttfamily \#include \char`\"{}mbed.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}adc/\+AD7124.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}interfaces/\+Reading\+Queue.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}serial\+\_\+mail\+\_\+sender/\+Serial\+Mail\+Sender.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}utils/logger.\+h\char`\"{}}\newline
Include dependency graph for main.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{main_8cpp_a96c54f63b91aaaff7db5229da2028a30}{DOWNSAMPLING\+\_\+\+RATE}}~10
\begin{DoxyCompactList}\small\item\em Downsampling rate for ADC readings in milliseconds. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{main_8cpp_a155a9a6160c909e29d95e7c75b79612a}{DATABITS}}~8388608
\begin{DoxyCompactList}\small\item\em Conversion constants for ADC readings. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{main_8cpp_a2c9e85d22a9ba37ea589b1747af46307}{VREF}}~2.\+5
\item 
\#define \mbox{\hyperlink{main_8cpp_a8c8f27b35dfa40ccf31c1ee31479a31c}{GAIN}}~4.\+0
\item 
\#define \mbox{\hyperlink{main_8cpp_a5001016067783b1500a1fd34ca1bfc7f}{SPI\+\_\+\+FREQUENCY}}~10000000
\begin{DoxyCompactList}\small\item\em SPI frequency for ADC communication in Hz. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{main_8cpp_a7c78836761fa3b5b124efea237dac70f}{VECTOR\+\_\+\+SIZE}}~1
\begin{DoxyCompactList}\small\item\em Number of values to collect in each channel vector before sending mail. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{main_8cpp_a9a2bbc66102de668efe5e9c7feb23eaa}{NODE}}~1
\begin{DoxyCompactList}\small\item\em Node identifier for serial communication. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{main_8cpp_a1fdec6782dc49c41f278f43cc64787b2}{get\+\_\+input\+\_\+model\+\_\+values\+\_\+from\+\_\+adc}} (void)
\begin{DoxyCompactList}\small\item\em Reads data from the ADC and processes it. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}} ()
\begin{DoxyCompactList}\small\item\em Main entry point for the Phyto\+Node application. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
Thread \mbox{\hyperlink{main_8cpp_ae1b422016f22205e5ebdad115ca37633}{reading\+\_\+data\+\_\+thread}}
\begin{DoxyCompactList}\small\item\em Thread for reading data from ADC. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Entry point for the Phyto\+Node application. 

This file initializes the ADC reading thread, retrieves processed data from the \mbox{\hyperlink{classReadingQueue}{Reading\+Queue}}, and sends it over a serial connection.


\begin{DoxyItemize}
\item Modify the following variables in {\ttfamily mbed-\/os/connectivity/\+FEATURE\+\_\+\+BLE/source/cordio/mbed\+\_\+lib.\+json}\+:
\begin{DoxyItemize}
\item {\ttfamily \char`\"{}desired-\/att-\/mtu\char`\"{}\+: 250}
\item {\ttfamily \char`\"{}rx-\/acl-\/buffer-\/size\char`\"{}\+: 255}
\end{DoxyItemize}
\item Avoid using pins {\ttfamily PB\+\_\+6} and {\ttfamily PB\+\_\+7}, as they are reserved for {\ttfamily CONSOLE\+\_\+\+TX} and {\ttfamily CONSOLE\+\_\+\+RX}. 
\end{DoxyItemize}

\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{main_8cpp_a155a9a6160c909e29d95e7c75b79612a}\label{main_8cpp_a155a9a6160c909e29d95e7c75b79612a}} 
\index{main.cpp@{main.cpp}!DATABITS@{DATABITS}}
\index{DATABITS@{DATABITS}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{DATABITS}{DATABITS}}
{\footnotesize\ttfamily \#define DATABITS~8388608}



Conversion constants for ADC readings. 

\mbox{\Hypertarget{main_8cpp_a96c54f63b91aaaff7db5229da2028a30}\label{main_8cpp_a96c54f63b91aaaff7db5229da2028a30}} 
\index{main.cpp@{main.cpp}!DOWNSAMPLING\_RATE@{DOWNSAMPLING\_RATE}}
\index{DOWNSAMPLING\_RATE@{DOWNSAMPLING\_RATE}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{DOWNSAMPLING\_RATE}{DOWNSAMPLING\_RATE}}
{\footnotesize\ttfamily \#define DOWNSAMPLING\+\_\+\+RATE~10}



Downsampling rate for ADC readings in milliseconds. 

\mbox{\Hypertarget{main_8cpp_a8c8f27b35dfa40ccf31c1ee31479a31c}\label{main_8cpp_a8c8f27b35dfa40ccf31c1ee31479a31c}} 
\index{main.cpp@{main.cpp}!GAIN@{GAIN}}
\index{GAIN@{GAIN}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{GAIN}{GAIN}}
{\footnotesize\ttfamily \#define GAIN~4.\+0}

\mbox{\Hypertarget{main_8cpp_a9a2bbc66102de668efe5e9c7feb23eaa}\label{main_8cpp_a9a2bbc66102de668efe5e9c7feb23eaa}} 
\index{main.cpp@{main.cpp}!NODE@{NODE}}
\index{NODE@{NODE}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{NODE}{NODE}}
{\footnotesize\ttfamily \#define NODE~1}



Node identifier for serial communication. 

\mbox{\Hypertarget{main_8cpp_a5001016067783b1500a1fd34ca1bfc7f}\label{main_8cpp_a5001016067783b1500a1fd34ca1bfc7f}} 
\index{main.cpp@{main.cpp}!SPI\_FREQUENCY@{SPI\_FREQUENCY}}
\index{SPI\_FREQUENCY@{SPI\_FREQUENCY}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{SPI\_FREQUENCY}{SPI\_FREQUENCY}}
{\footnotesize\ttfamily \#define SPI\+\_\+\+FREQUENCY~10000000}



SPI frequency for ADC communication in Hz. 

\mbox{\Hypertarget{main_8cpp_a7c78836761fa3b5b124efea237dac70f}\label{main_8cpp_a7c78836761fa3b5b124efea237dac70f}} 
\index{main.cpp@{main.cpp}!VECTOR\_SIZE@{VECTOR\_SIZE}}
\index{VECTOR\_SIZE@{VECTOR\_SIZE}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{VECTOR\_SIZE}{VECTOR\_SIZE}}
{\footnotesize\ttfamily \#define VECTOR\+\_\+\+SIZE~1}



Number of values to collect in each channel vector before sending mail. 

\mbox{\Hypertarget{main_8cpp_a2c9e85d22a9ba37ea589b1747af46307}\label{main_8cpp_a2c9e85d22a9ba37ea589b1747af46307}} 
\index{main.cpp@{main.cpp}!VREF@{VREF}}
\index{VREF@{VREF}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{VREF}{VREF}}
{\footnotesize\ttfamily \#define VREF~2.\+5}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{main_8cpp_a1fdec6782dc49c41f278f43cc64787b2}\label{main_8cpp_a1fdec6782dc49c41f278f43cc64787b2}} 
\index{main.cpp@{main.cpp}!get\_input\_model\_values\_from\_adc@{get\_input\_model\_values\_from\_adc}}
\index{get\_input\_model\_values\_from\_adc@{get\_input\_model\_values\_from\_adc}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{get\_input\_model\_values\_from\_adc()}{get\_input\_model\_values\_from\_adc()}}
{\footnotesize\ttfamily void get\+\_\+input\+\_\+model\+\_\+values\+\_\+from\+\_\+adc (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reads data from the ADC and processes it. 

This function runs in the {\ttfamily reading\+\_\+data\+\_\+thread} and continuously reads voltage data from both ADC channels. The processed data is stored in the \mbox{\hyperlink{classReadingQueue}{Reading\+Queue}} for inter-\/thread communication. Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main_8cpp_a1fdec6782dc49c41f278f43cc64787b2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=293pt]{main_8cpp_a1fdec6782dc49c41f278f43cc64787b2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}\label{main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}} 
\index{main.cpp@{main.cpp}!main@{main}}
\index{main@{main}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Main entry point for the Phyto\+Node application. 

Initializes the ADC reading thread and continuously retrieves processed data from the \mbox{\hyperlink{classReadingQueue}{Reading\+Queue}}. The data is then sent over a serial connection using the \mbox{\hyperlink{classSerialMailSender}{Serial\+Mail\+Sender}}.

\begin{DoxyReturn}{Returns}
0 on successful execution. 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4_cgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{main_8cpp_ae1b422016f22205e5ebdad115ca37633}\label{main_8cpp_ae1b422016f22205e5ebdad115ca37633}} 
\index{main.cpp@{main.cpp}!reading\_data\_thread@{reading\_data\_thread}}
\index{reading\_data\_thread@{reading\_data\_thread}!main.cpp@{main.cpp}}
\doxysubsubsection{\texorpdfstring{reading\_data\_thread}{reading\_data\_thread}}
{\footnotesize\ttfamily Thread reading\+\_\+data\+\_\+thread}



Thread for reading data from ADC. 

